typedef Precondition<S> = bool Function(S previousState, S currentState);